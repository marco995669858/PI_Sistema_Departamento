<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head th:insert="menu.html :: head">
	<meta charset="UTF-8">
	<title>Control visita</title>

</head>

<body>
	<th:block th:replace="menu.html :: header">
	</th:block>

	<section class="grid">
		<article>
			<div class="contact_form">

				<div class="formulario">

					<h1 style="text-align: center;">Registro Visita Ingreso</h1>

					<form action="" method="post">
						<input class="registro1" type="hidden" value="0">

						<div>
							<div>
								<p>
									<label for="documento" class="form-control">Documento
										<span class="obligatorio">*</span>
									</label>
									<input class="registro1" type="text" name="documento" id="idDocumento"
										placeholder="Escribe tu Dni">
									<button type="button" class="button" id="idEditar">
										Buscar
									</button>
									<!--<a type="button" class="button" th:hre>
											<h4>...</h4>
										</a>-->
									<a th:href="@{/rest/visitante/}" class="btn">
										.....
									</a>

									<!--<a id="modal-btn" th:href="@{/rest/visitante/}" class="button">
											<h4>...</h4>
										</a>-->
								</p>

							</div>
						</div>

						<p>
							<label for="visitante" class="form-control">Visitante
								<span class="obligatorio">*</span>
							</label>
							<select name="visitante" id="codigVisitante" disabled>
							</select>
						</p>


						<p>
							<label for="horaIngreso" class="form-control">Hora de Ingreso
								<span class="obligatorio">*</span>
							</label>
							<input class="registro1" type="time" name="horaIngreso" id="minor2" readonly="readonly"
								style="background-color: rgb(192, 192, 192); color: black;" onmousemove="myFunction()">
						</p>

						<p>
							<label for="horaIngreso" class="form-control">Hora de Salida
								<span class="obligatorio">*</span>
							</label>
							<input class="registro1" type="time" name="horaIngreso" id="HoraActual">
						</p>

						<p>
							<label for="cliente" class="form-control">Cliente
								<span class="obligatorio">*</span>
							</label>
							<input class="registro1" type="text" name="cliente" id="idCliente" placeholder="Cliente"
								readonly="disabled" style="background-color: rgb(192, 192, 192); color: black;">
						</p>

						<button class="botones1" type="submit" name="enviar_formulario" id="enviar">
							<p>Registrar</p>
						</button>

						<p class="aviso">
							<span class="obligatorio"> * </span>los campos son obligatorios.
						</p>




					</form>
				</div>
			</div>
		</article>


	</section>
	</section>
	<th:block th:replace="menu.html :: footer">
	</th:block>
	<script src="https://code.jquery.com/jquery-3.6.0.js"
		integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>
	<script>
		$(document).on("click", "#idEditar", function () {
			let codigo;
			codigo = document.getElementById("idDocumento").value;
			$.get("/rest/controlvisita/buscardni?dni=" + codigo, function (data) {
				$.each(data, function (key, value) {
					$("#codigVisitante").append("<option value=" + key.idVisitante + ">" + value.nombres + "</option>");
				});
			});
		});
	</script>

</body>

</html>